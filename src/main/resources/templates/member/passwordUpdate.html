<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
layout:decorate="~{ layout/layout.html }">

<body>

    <div layout:fragment="content">
        <br/>
                <div class="card-header p-4">
                    <h1 style="margin-right: 30px; margin-left: 30px; margin-top: 10px; font-size: 330%; text-align: center;">비밀번호 변경</h1>
                </div>
                <br/>
                <div class="card-body my-2 row">
                <div class="col-4"></div>
                    <form id="passwordModify" class="col-4">
                        <div style=" padding-left: 20px; padding-right: 20px; padding-bottom: 10px;" >
                            <input type="password" id="password" name="password"
                                class="form-control" placeholder="새 비밀번호" required />
                        </div>
                        <div style="padding-left: 20px; padding-right: 20px; padding-bottom: 20px;">
                            <input type="password" id="passwordConfirm" name="passwordConfirm"
                                class="form-control" placeholder="새 비밀번호 확인" required />
                        </div>
                        <div style="padding-left: 20px; padding-right: 20px;">
                            <input type="submit" id="btnSubmit"
                                class="form-control btn btn-success" value="비밀번호 변경 완료" />
                        </div>
                    </form>
                </div>
        </div>
        
    
    <script layout:fragment="script">
    
    const passwordModify=document.querySelector('#passwordModify');
    
    const btnSubmit=document.querySelector('#btnSubmit');
    
    btnSubmit.addEventListener('click', function() {
    	const password=document.querySelector('#password').value;
    	const passwordConfirm=document.querySelector('#passwordConfirm').value;
    	
    	if (password!=passwordConfirm) {
    		alert('비밀번호를 확인해주세요!');
    		return ;
    	}
    	
    	const result=confirm('비밀번호를 변경하시겠습니까?');
    	if (result) {
            passwordModify.action = '/member/passwordUpdate';
            passwordModify.method='post';
            passwordModify.submit();
        }
    })
    
    </script>

</body>
    
    
</html>